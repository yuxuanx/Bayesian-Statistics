a = [4 -1 -1 0 0 0 0 0 -1 -1;-1 4 -1 -1 0 0 0 0 0 -1;...
    -1 -1 4 -1 -1 0 0 0 0 0 ;0 -1 -1 4 -1 -1 0 0 0 0;...
    0 0 -1 -1 4 -1 -1 0 0 0;0 0 0 -1 -1 4 -1 -1 0 0;...
    0 0 0 0 -1 -1 4 -1 -1 0;0 0 0 0 0 -1 -1 4 -1 -1;...
    -1 0 0 0 0 0 -1 -1 4 -1;-1 -1 0 0 0 0 0 -1 -1 4];
b = [4 -1 0 0 -1 0 -1 0 0 -1;-1 4 -1 0 0 -1 0 -1 0 0;...
    0 -1 4 -1 0 0 -1 0 -1 0;0 0 -1 4 -1 0 0 -1 0 -1;...
    -1 0 0 -1 4 -1 0 0 -1 0;0 -1 0 0 -1 4 -1 0 0 -1;...
    -1 0 -1 0 0 -1 4 -1 0 0;0 -1 0 -1 0 0 -1 4 -1 0;...
    0 0 -1 0 -1 0 0 -1 4 -1;-1 0 0 -1 0 -1 0 0 -1 4];

epsilon = 0.99*1/4;
P1 = eye(10) - epsilon*a;
P2 = eye(10) - epsilon*b;

x = [0 0 0 0 0 0 0 0 0 0];
y = x + randn(1,10);
z1 = zeros(101,10);
z1(1,:) = log(1/(sqrt(2*pi))*exp(-y.^2/2));

%z1(1,:) = y;

z2 = zeros(101,10);
z2(1,:) = log(1/(sqrt(2*pi))*exp(-y.^2/2));

for i=1:100
    z1(1+i,:) = z1(i,:)*P1;
    z2(1+i,:) = z2(i,:)*P2;
end
figure;
subplot(2,1,1)
plot(z1);title('Network Topology 1');xlabel('number of iteration');
subplot(2,1,2)
plot(z2);title('Network Topology 2');xlabel('number of iteration');
eig(P1)'
eig(P2)'

